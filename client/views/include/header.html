<template name="header">
  {{#if siteReady}}
    {{#if isAdminSite}}
      {{> adminHeader}}
    {{else}} {{#if isPatientSite}}
      {{> patientHeader}}
    {{/if}}
    {{#if isStaffSite}}
      {{> staffHeader}}
  {{/if}}{{/if}}{{/if}}
</template>

<template name="patientHeader">
  {{#if isInRole getRoles.Patient}}
  <ul class="nav navbar-nav">
    <li class="{{routeIs 'patientIndex'}}"><a href="{{pathFor 'patientIndex'}}">Strona główna</a></li>
    <li class="dropdown {{routeIs 'patientContact'}} {{routeIs 'patientVisit'}}">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Możliwe działania <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="{{pathFor 'patientContact'}}">Uzupełnij dane kontaktowe</a></li>
        <li><a href="{{pathFor 'patientVisit'}}">Zarządzaj wizytami</a></li>
      </ul>
    </li>
  </ul>
  <ul class="nav navbar-nav navbar-right">
    <li><a href="#" class="logout">Wyloguj się</a></li>
  </ul>
  {{else}}
  <ul class="nav navbar-nav">
    <li class="{{routeIs 'patientIndex'}}"><a href="{{pathFor 'patientIndex'}}">Strona główna</a></li>
    <li class="{{routeIs 'addPatient'}}"><a href="{{pathFor 'addPatient'}}">Zarejestruj się</a></li>
  </ul>
  {{/if}}
</template>

<template name="adminHeader">
  {{#if isInRole getRoles.Admin}}
  <ul class="nav navbar-nav">
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Zarządzaj personelem <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="{{pathFor 'addStaff'}}">Dodaj pracownika</a></li>
        <li><a href="#">Edytuj/usuń pracownika</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Zarządzaj pacjentami <b class="caret"></b></a>
      <ul class="dropdown-menu">
        {{#with role=getRoles.Admin}}
        <li><a href="{{pathFor 'addPatient'}}">Dodaj pacjenta</a></li>
        <li><a href="{{pathFor 'showPatient'}}">Zmień/wyszukaj dane pacjenta</a></li>
        {{/with}}
        <li><a href="#">Usuń dane pacjenta</a></li>
      </ul>
    </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a href="#" class="logout">Wyloguj się</a></li>
    </ul>
  {{else}}
  <ul class="nav navbar-nav">
    <li class="active"><a href="#">Zaloguj się</a></li>
  </ul>
  {{/if}}
  
</template>

<template name="staffHeader">
  {{#if isInRole getRoles.Staff getRoles.Office}} 
  <ul class="nav navbar-nav">
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Wizyty <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="{{pathFor 'confirmVisits'}}">Potwierdź wizyty</a></li>
        <li><a href="{{pathFor 'viewVisits'}}">Przeglądaj wizyty</a></li>
      </ul>
    </li>
    <li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Pacjenci <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="{{pathFor 'showPatient' role=getRoles.Staff}}">Zmień/wyszukaj dane pacjenta</a></li>
      </ul>
    </li>
  </ul>
  <ul class="nav navbar-nav navbar-right">
    <li><a href="#" class="logout">Wyloguj się</a></li>
  </ul>
  {{else}}
  <ul class="nav navbar-nav">
    <li class="active"><a href="#">Zaloguj się</a></li>
  </ul>
  {{/if}}
  </template>